(function(e){function t(t){for(var n,r,o=t[0],l=t[1],c=t[2],h=0,d=[];h<o.length;h++)r=o[h],Object.prototype.hasOwnProperty.call(s,r)&&s[r]&&d.push(s[r][0]),s[r]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);u&&u(t);while(d.length)d.shift()();return a.push.apply(a,c||[]),i()}function i(){for(var e,t=0;t<a.length;t++){for(var i=a[t],n=!0,o=1;o<i.length;o++){var l=i[o];0!==s[l]&&(n=!1)}n&&(a.splice(t--,1),e=r(r.s=i[0]))}return e}var n={},s={app:0},a=[];function r(t){if(n[t])return n[t].exports;var i=n[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=e,r.c=n,r.d=function(e,t,i){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(i,n,function(t){return e[t]}.bind(null,n));return i},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/preview/vue/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=t,o=o.slice();for(var c=0;c<o.length;c++)t(o[c]);var u=l;a.push(["40f2","chunk-vendors"]),i()})({"05f2":function(e,t,i){e.exports={TableView:"style_TableView_1hB1P","TableView-search":"style_TableView-search_3Ek4X","TableView-tableActions":"style_TableView-tableActions_2BC8a","TableView-dataTable":"style_TableView-dataTable_3juE8"}},"29f3":function(e,t,i){},"2c6d":function(e,t,i){"use strict";i("de69")},"2dd8":function(e,t,i){},3054:function(e,t,i){"use strict";i("42aa")},"40f2":function(e,t,i){"use strict";i.r(t);var n={};i.r(n),i.d(n,"App",(function(){return K["a"]})),i.d(n,"Empty",(function(){return K["b"]})),i.d(n,"Icon",(function(){return J["o"]})),i.d(n,"Button",(function(){return J["e"]})),i.d(n,"LayoutContainer",(function(){return J["q"]})),i.d(n,"LayoutMain",(function(){return J["t"]})),i.d(n,"LayoutAside",(function(){return J["p"]})),i.d(n,"LayoutHeader",(function(){return J["s"]})),i.d(n,"LayoutFooter",(function(){return J["r"]})),i.d(n,"Heading",(function(){return J["n"]})),i.d(n,"Paragraph",(function(){return J["A"]})),i.d(n,"Text",(function(){return J["H"]})),i.d(n,"TextInput",(function(){return J["J"]})),i.d(n,"TextArea",(function(){return J["I"]})),i.d(n,"Select",(function(){return J["F"]})),i.d(n,"Option",(function(){return J["z"]})),i.d(n,"Radio",(function(){return J["C"]})),i.d(n,"RadioGroup",(function(){return J["D"]})),i.d(n,"Checkbox",(function(){return J["f"]})),i.d(n,"Switch",(function(){return J["G"]})),i.d(n,"Tree",(function(){return J["L"]})),i.d(n,"SearchableTree",(function(){return J["E"]})),i.d(n,"Form",(function(){return J["l"]})),i.d(n,"FormField",(function(){return J["m"]})),i.d(n,"DataTable",(function(){return J["g"]})),i.d(n,"Avatar",(function(){return J["a"]})),i.d(n,"Badge",(function(){return J["b"]})),i.d(n,"Wait",(function(){return J["M"]})),i.d(n,"Message",(function(){return J["u"]})),i.d(n,"Dialog",(function(){return J["h"]})),i.d(n,"Drawer",(function(){return J["j"]})),i.d(n,"NavMenu",(function(){return J["v"]})),i.d(n,"NavMenuItem",(function(){return J["w"]})),i.d(n,"NavMenuItemGroup",(function(){return J["x"]})),i.d(n,"NavSubMenu",(function(){return J["y"]})),i.d(n,"Breadcrumb",(function(){return J["c"]})),i.d(n,"BreadcrumbItem",(function(){return J["d"]})),i.d(n,"Tooltip",(function(){return J["K"]})),i.d(n,"Popover",(function(){return J["B"]})),i.d(n,"Divider",(function(){return J["i"]})),i.d(n,"Ellipsis",(function(){return J["k"]}));var s={};i.r(s),i.d(s,"InputStringFilterWidget",(function(){return ze})),i.d(s,"InputTextFilterWidget",(function(){return qe})),i.d(s,"SelectEnumFilterWidget",(function(){return Ke})),i.d(s,"SelectMultiEnumFilterWidget",(function(){return Xe})),i.d(s,"DateRangeDateFilterWidget",(function(){return Ye})),i.d(s,"DateTimeRangeDateFilterWidget",(function(){return et})),i.d(s,"FormSearchWidget",(function(){return it})),i.d(s,"PopupSearchWidget",(function(){return at})),i.d(s,"ButtonActionWidget",(function(){return ot})),i.d(s,"LinkActionWidget",(function(){return ct})),i.d(s,"IconActionWidget",(function(){return ht})),i.d(s,"RadioEditBooleanFieldWidget",(function(){return gt})),i.d(s,"RadioReadBooleanFieldWidget",(function(){return jt})),i.d(s,"SwitchEditBooleanFieldWidget",(function(){return yt})),i.d(s,"SwitchReadBooleanFieldWidget",(function(){return At})),i.d(s,"NumberEditIntegerFieldWidget",(function(){return Bt})),i.d(s,"NumberReadIntegerFieldWidget",(function(){return Lt})),i.d(s,"NumberEditFloatFieldWidget",(function(){return It})),i.d(s,"NumberReadFloatFieldWidget",(function(){return Kt})),i.d(s,"InputEditStringFieldWidget",(function(){return Xt})),i.d(s,"InputReadStringFieldWidget",(function(){return ni})),i.d(s,"PasswordEditStringFieldWidget",(function(){return ai})),i.d(s,"UrlEditStringFieldWidget",(function(){return oi})),i.d(s,"TextareaEditTextFieldWidget",(function(){return ui})),i.d(s,"TextareaReadTextFieldWidget",(function(){return fi})),i.d(s,"SelectEditEnumFieldWidget",(function(){return $i})),i.d(s,"SelectReadEnumFieldWidget",(function(){return Ci})),i.d(s,"RadioEditEnumFieldWidget",(function(){return Vi})),i.d(s,"RadioReadEnumFieldWidget",(function(){return Ri})),i.d(s,"SelectEditMultiEnumFieldWidget",(function(){return Ti})),i.d(s,"SelectReadMultiEnumFieldWidget",(function(){return zi})),i.d(s,"DateEditDateFieldWidget",(function(){return qi})),i.d(s,"DateReadDateFieldWidget",(function(){return Zi})),i.d(s,"DateRangeEditDateFieldWidget",(function(){return tn})),i.d(s,"DateRangeReadDateFieldWidget",(function(){return cn})),i.d(s,"DateTimeEditDateFieldWidget",(function(){return hn})),i.d(s,"DateTimeReadDateFieldWidget",(function(){return vn})),i.d(s,"DateTimeRangeEditDateFieldWidget",(function(){return On})),i.d(s,"DateTimeRangeReadDateFieldWidget",(function(){return _n})),i.d(s,"TableViewWidget",(function(){return En})),i.d(s,"FormViewWidget",(function(){return qn})),i.d(s,"DialogViewWidget",(function(){return ts})),i.d(s,"FormDialogViewWidget",(function(){return hs}));var a={};i.r(a),i.d(a,"ActionRenderer",(function(){return ms})),i.d(a,"FilterRenderer",(function(){return fs})),i.d(a,"SearchRenderer",(function(){return $s})),i.d(a,"FieldRenderer",(function(){return js})),i.d(a,"ViewRenderer",(function(){return ys})),i.d(a,"FormRenderer",(function(){return Fs}));var r={};i.r(r),i.d(r,"getCurrentUser",(function(){return Ws}));var o={};i.r(o),i.d(o,"getList",(function(){return Gs})),i.d(o,"getOne",(function(){return qs})),i.d(o,"insert",(function(){return Js})),i.d(o,"update",(function(){return Xs})),i.d(o,"deleteList",(function(){return Us})),i.d(o,"deleteOne",(function(){return Ks}));var l={};i.r(l),i.d(l,"AnimationList",(function(){return va})),i.d(l,"AnimationDetail",(function(){return Wa})),i.d(l,"AnimationForm",(function(){return Na})),i.d(l,"AnimationBriefFormView",(function(){return Ra})),i.d(l,"AnimationCustomDialogView",(function(){return Ha}));var c={};i.r(c),i.d(c,"getList",(function(){return rr}));var u={};i.r(u),i.d(u,"GameList",(function(){return mr})),i.d(u,"GameDetail",(function(){return br}));var h={};i.r(h),i.d(h,"SpreadsheetForm",(function(){return Wr}));i("2dd8");var d=i("8c4f"),g=i("2f62"),p=i("2b0e"),m=i("a6a0");Object(m["S"])((e,t,i)=>p["default"].extend({name:e.getView().name,components:e.getComponents(),provide:t,render:e=>e(i)}));const b=new p["default"];function f(e,t,i,n){const s=b.$store;s&&s[t](`${e}/${i}`,n)}function v(e){const t=Object(m["d"])(e),i="__hacked_by_handie";if(!t[i]){const e=f.bind(null,t.getModuleName());t.commit=e.bind(null,"commit"),t.dispatch=async(t,i)=>e("dispatch",t,i),t[i]=!0}return t}let $;function O(e){$=e}function j(){return $}function w(e){return e._uid}function y(e,t=""){return`${t}.vue_inst_${w(e)}`}const x=Object(m["c"])(y);function F(e){return Object(m["n"])(e)&&!!e.extendOptions}function C(e,t,...i){const n=e(Object(m["g"])(t),...i);return n.componentOptions&&!n.componentOptions.tag&&(n.componentOptions.tag=Object(m["T"])(t)),n}var _=i("84d6");let V=[];function S(e,t){const i=[];return e.forEach(({path:e,children:n,...s})=>{if("*"===e)return;const a=t&&"/"!==e.charAt(0)?`${t}/${e}`:e,r={path:a,...s};n&&n.length>0&&(r.children=S(n,a)),i.push(r)}),i}function A(e){V=S(e)}function D(e,t=V){const i={current:void 0,ancestors:[]};for(let n=0;n<t.length;n++){const s=t[n],a=Object(_["c"])(s.path).exec(e);if(a||s.path===e){i.current=s;break}if(0===(s.children||[]).length)continue;const r=D(e,s.children);if(r.current){i.current=r.current,i.ancestors.unshift(s,...r.ancestors);break}}return i}function B(){const{path:e,hash:t,query:i}=j().$route,{current:n,ancestors:s}=D(e),{params:a={}}=Object(_["b"])(n.path,{decode:decodeURIComponent})(e)||{};return{name:n.name,path:e,rawPath:n.path,hash:t,query:i,params:a,ancestors:s}}function W(e){let t;if(Object(m["q"])(e)){const{name:i,path:n,query:s,params:a={}}=e;t={query:s},i?(t.name=i,t.params=a):t.path=Object(_["a"])(n)(a)}else t={path:e};return t}let N=e=>new d["a"]({mode:"history",routes:e});function R(e){Object(m["n"])(e)&&(N=e)}function E(e,t){let i;return i=Object(m["n"])(t)?t():Object(m["e"])(v(e),t),i}function T(e){return e.map(({component:e,children:t,...i})=>{const n=i;if(e)if(Object(m["r"])(e)){const[t,i,s]=e.split("."),a=Object(m["i"])(t)[s];a&&(n.component=E(t,a))}else n.component=e;return t&&(n.children=T(t)),n})}function k(e){return N(T(e))}let L=()=>function(){};function P(e){Object(m["n"])(e)&&(L=e)}function I(e){const t={};return e.forEach(({name:e,store:i})=>{t[e]={...i,namespaced:!0}}),t}function M(e){return L(I(e))}function H(e){return(t,...i)=>{const n=i.slice(-1);Object(m["g"])("Message").show(t,...Object(m["q"])(n)?[...i.slice(0,i.length-1),{...n,type:e}]:[...i,{type:e}])}}function z(){const e=Object(m["g"])("Dialog");return{history:{getLocation:B,back:()=>j().$router.back(),forward:()=>j().$router.forward(),go:e=>j().$router.go(e),push:e=>j().$router.push(W(e)),replace:e=>j().$router.replace(W(e))},alert:e.alert,confirm:e.confirm,success:H("success"),error:H("error"),warning:H("warning"),info:H("info")}}function G({router:e,store:t}){e&&R(e),t&&P(t)}function q(e,t){if(e)return e;const i=[];return t&&t.forEach(({name:e,store:t})=>{t&&i.push({name:e,store:t})}),i}function U({plugins:e=[],creators:t={},root:i,el:n,routes:s=[],provider:a,storeModules:r,...o}){const l=!(!i&&!n),{router:c,store:u,...h}=t;l&&(p["default"].config.productionTip=!1,p["default"].use(d["a"]),e.forEach(e=>{e!==d["a"]&&p["default"].use(e)}),(c||u)&&G({router:c,store:u})),A(s),h.appHelper||(h.appHelper=z);const g=Object(m["b"])({...o,creators:h});if(!l)return g;const b={render:e=>e(i||p["default"].extend({name:"HandieApp",render:e=>e("router-view")})),router:k(s),provide:{routes:s}};n&&(b.el=n);const f=q(r,(o.metadata||{}).modules);f.length>0&&(b.store=M(f)),a&&(b.provide={...b.provide,...a});const v=new p["default"](b);return O(v),{mount:(e="#app")=>{n||v.$mount(e)}}}var K=i("28f2"),J=i("0111"),X=i("9ab4"),Q=i("1b40"),Y=i("78ba");let Z=class extends p["default"]{get $$app(){return this.$$_h.getAppHelper()}get $$history(){return this.$$app.history}get $$route(){return this.$$history.getLocation()}get $$session(){return this.$$app.session}get $$module(){return this.$$view.getModuleContext()}get config(){return this.$$_h.getConfig()}setHeadlessWidget(e){this.$$_h=e}setBehaviors(e,t){this.$$_h.setBehaviors(e,t)}getBehavior(e){return this.$$_h.getBehavior(e)}getCommonBehavior(e,t){return this.$$_h.getCommonBehavior(e,t)}getStyle(){const e=this.config.style||{},t={};return Object.keys(e).forEach(i=>{const n=e[i];Object(m["r"])(n)?t["--handie-"+Object(m["T"])(i)]=n:Object(m["q"])(n)}),t}setStyleClassNames(e){this.__style=e}getStyleClassName(e){return(this.__style||{})[e]||""}on(e,t){this.$$view&&this.$$view.on(x(this,e),t)}off(e,t){this.$$view&&this.$$view.off(y(this,e),t)}beforeDestroy(){this.off()}};Object(X["b"])([Object(Q["c"])({from:"viewContext",default:null})],Z.prototype,"$$view",void 0),Z=Object(X["b"])([Q["a"]],Z);let ee=class extends Z{constructor(){super(...arguments),this.viewContext=this.$$view}get showValidationRulesAsNative(){return this.$$_h.isValidationRulesShownAsNative()}get searchImmediately(){return this.$$_h.isImmediate()}getPlaceholder(){return this.$$_h.getPlaceholder()}onChange(e){this.$emit("change",e)}};Object(X["b"])([Object(Q["e"])({type:Object,default:()=>({})})],ee.prototype,"filter",void 0),Object(X["b"])([Object(Q["c"])({from:"searchContext",default:null})],ee.prototype,"$$search",void 0),ee=Object(X["b"])([Q["a"]],ee);let te=class extends ee{created(){this.setHeadlessWidget(new Y["i"](this.$props,this.$$view))}};te=Object(X["b"])([Q["a"]],te);let ie=class extends ee{created(){this.setHeadlessWidget(new Y["c"](this.$props,this.$$view))}};ie=Object(X["b"])([Q["a"]],ie);let ne=class extends ee{created(){this.setHeadlessWidget(new Y["m"](this.$props,this.$$view))}};ne=Object(X["b"])([Q["a"]],ne);let se=class extends ee{created(){this.setHeadlessWidget(new Y["k"](this.$props,this.$$view))}};se=Object(X["b"])([Q["a"]],se);let ae=class extends ee{created(){this.setHeadlessWidget(new Y["s"](this.$props,this.$$view))}};Object(X["b"])([Object(Q["e"])({type:String,default:""})],ae.prototype,"value",void 0),ae=Object(X["b"])([Q["a"]],ae);let re=class extends ee{created(){this.setHeadlessWidget(new Y["u"](this.$props,this.$$view))}};Object(X["b"])([Object(Q["e"])({type:String,default:""})],re.prototype,"value",void 0),re=Object(X["b"])([Q["a"]],re);let oe=class extends ee{constructor(){super(...arguments),this.options=[],this.optionMap={}}created(){this.setHeadlessWidget(new Y["g"](this.$props,this.$$view)),this.$$_h.initOptions(this.$$view,e=>{this.options=e,this.optionMap=e.reduce((e,t)=>({...e,[t.value]:t}),{})})}};oe=Object(X["b"])([Q["a"]],oe);let le=class extends oe{get displayText(){return this.$$_h.getSingleDisplayText(this.value,this.options)}};Object(X["b"])([Object(Q["e"])({type:[Number,String],default:""})],le.prototype,"value",void 0),le=Object(X["b"])([Q["a"]],le);let ce=class extends oe{get displayText(){return this.$$_h.getMultipleDisplayText(this.value,this.optionMap)}};Object(X["b"])([Object(Q["e"])({type:Array,default:()=>[]})],ce.prototype,"value",void 0),ce=Object(X["b"])([Q["a"]],ce);let ue=class extends ee{getRangeValue(){return this.$$_h.getRangeValue()}getRangePlaceholders(){return this.$$_h.getRangePlaceholders()}setDefaultFormat(e=""){this.$$_h.setDefaultFormat(e)}getDisplayFormat(){return this.$$_h.getDisplayFormat()}getSeparator(){return this.$$_h.getSeparator()}onRangeChange(e){this.$$_h.setRangeValue(e,this.onChange)}created(){this.setHeadlessWidget(new Y["e"](this.$props,this.$$view))}};ue=Object(X["b"])([Q["a"]],ue);let he=class extends Z{constructor(){super(...arguments),this.viewContext=this.$$view,this.context=this.$$search,this.condition={}}get filters(){return this.$$search?this.$$search.getFilters():[]}on(e,t){this.$$search.on(x(this,e),t)}off(e,t){this.$$search.off(y(this,e),t)}initCondition(e={}){this.$$search.setValue({...this.condition,...e})}setFilterValue(e,t){this.$$search.setFilterValue(e,t)}submit(){this.$$search.submit()}reset(){this.$$search.reset()}created(){this.setHeadlessWidget(new Y["q"](this.$props,this.$$view));const{condition:e,events:t}=this.$$_h.resolveInitialSettings();this.condition=e,this.on({change:e=>this.condition={...e},filterChange:({name:e,value:t})=>this.condition[e]=t,...t})}mounted(){this.$$search.emit("mount."+this.$$view.getId())}};Object(X["b"])([Object(Q["c"])({from:"searchContext",default:null})],he.prototype,"$$search",void 0),he=Object(X["b"])([Q["a"]],he);var de={formLayout:"inline",formControlLabelWidth:"",formControlSize:"medium",hideFormControlLabel:!1,searchable:!0,resettable:!0,actionsStandalone:!1,submitButtonAsPrimary:!0};let ge=class extends he{renderFilter(e){const t=this.$createElement;return t(Object(m["g"])("FormField"),{props:{label:this.isFormControlLabelHidden()?void 0:e.label},key:e.name+"FilterOfFormSearchStructuralWidget"},[t(Object(m["h"])("FilterRenderer"),{props:{filter:e,value:this.condition[e.name]},on:{change:(e,t)=>this.setFilterValue(e,t)}})])}renderFilterRow(e){return this.$createElement("div",{class:this.getStyleClassName("FormSearch-filterRow"),key:`FilterRow${e[0].name}OfFormSearchStructuralWidget`},e.map(e=>this.renderFilter(e)))}renderFilterGroup(e,t){return this.$createElement("div",t)}resolveLabelWidth(){const e=this.config.formControlLabelWidth||this.getBehavior("formControlLabelWidth");return Object(m["o"])(e)?e+"px":e}isStandalone(){return!0===this.getBehavior("actionsStandalone")}isSearchable(){return Object(m["l"])(this.config.searchable)?this.config.searchable:!1!==this.getBehavior("searchable")}isResettable(){return Object(m["l"])(this.config.resettable)?this.config.resettable:!0===this.getBehavior("resettable")}isFormControlLabelHidden(){return Object(m["l"])(this.config.hideFormControlLabel)?this.config.hideFormControlLabel:!0===this.getBehavior("hideFormControlLabel")}handleSearch(e){this.submit(),e&&e.preventDefault()}handleReset(e){this.reset(),e&&e.preventDefault()}renderFilters(e=this.filters){const t=Object(m["w"])(e,this.config.arrangement,this.renderFilterGroup.bind(this),this.renderFilter.bind(this),this.renderFilterRow.bind(this)),i=Object(m["g"])("Button");if((this.isStandalone()||!this.isSearchable())&&i){const e=this.$createElement;t.push(e("div",{staticStyle:{display:"none"},key:"SearchButtonProxyOfFormSearchStructuralWidget"},[e(i,{props:{nativeType:"submit"},on:{click:e=>this.handleSearch(e)}},"替身查询")]))}return t}renderButtonGroup(){const e=this.getBehavior("formControlSize"),t=this.isStandalone(),i=this.isSearchable(),n={className:this.getStyleClassName("FormSearch-button"),size:e,nativeType:t?"button":"submit"};!0===this.getBehavior("submitButtonAsPrimary")&&(n.color="primary");const s=[],a=Object(m["g"])("Button"),r=this.$createElement;i&&a&&s.push(r(a,{props:n,key:"SearchButtonOfFormSearchStructuralWidget",on:{click:e=>this.handleSearch(e)}},"查询")),this.isResettable()&&a&&s.push(r(a,{props:{className:this.getStyleClassName("FormSearch-button"),size:e},key:"ResetButtonOfFormSearchStructuralWidget",on:{click:e=>this.handleReset(e)}},"重置"));const o=[this.getStyleClassName("FormSearch-buttonGroup")];return t&&o.push(this.getStyleClassName("is-standalone")),s.length>0?r("div",{props:{className:o.join("")},key:"ButtonGroupOfFormSearchStructuralWidget"},s):null}resolveProps(){return{value:this.condition,controlSize:this.getBehavior("formControlSize"),layout:this.getBehavior("formLayout"),labelOption:{width:this.resolveLabelWidth()}}}created(){this.setBehaviors("search.form",de),this.initCondition()}};ge=Object(X["b"])([Q["a"]],ge);let pe=class extends Z{constructor(){super(...arguments),this.context=this.$$view,this.disabled=!1}resolveClassNames(e){return this.$$_h.resolveClassNames(e)}renderView(){const e=Object(m["h"])("ViewRenderer"),t=this.config.view;return t&&e?this.$createElement(e,{props:{view:t,params:[this.$$view]},key:"ViewRendererOfActionWidget-"+w(this)}):null}renderContent(){const e=this.$createElement;return this.$$_h.renderContent((t,i,n)=>{const s=[e(Object(m["g"])("Icon"),{props:{refs:t},key:"ButtonActionIcon"})];return n||s.push(e("span",{key:"ButtonActionText"},i)),s})}onExecute(){const{goto:e,routeParamKeys:t,view:i}=this.config;if(e)this.$$history.push({name:e,params:t&&"object"===this.$$view.getView().category?Object(m["L"])(this.$$view,t):{}});else if(i){const[e,t,n]=i.split(".");this.$$view.emit(`dialog-view-show.${this.$$view.getId()}:${e}-${n}`)}else this.$$_h.execute(this.$$view)}created(){this.setHeadlessWidget(new Y["a"](this.$props,this.$$view));const{disableWhenNoSelection:e=this.getCommonBehavior("action.disableWhenNoSelection",!0)}=this.config;if(!1===e)return;const{context:t}=this.action,i="batch"===t||"both"===t;this.disabled=i,i&&this.on("change",e=>this.disabled="batch"===t?e.length<2:0===e.length)}};Object(X["b"])([Object(Q["e"])({type:Object,default:()=>({})})],pe.prototype,"action",void 0),pe=Object(X["b"])([Q["a"]],pe);let me=class extends pe{resolveProps(){return Object(m["C"])(this.action,this.config,this.disabled)}renderButton(e={}){const{className:t,...i}=e,n=Object(m["D"])(this.resolveProps(),i);return this.$createElement("div",{staticClass:t},[this.$createElement(Object(m["g"])("Button"),{props:n.props,on:n.events},this.renderContent()),this.renderView()])}};me=Object(X["b"])([Q["a"]],me);let be=class extends pe{resolveProps(){return Object(m["K"])(this.config)}renderLink(e={}){const{className:t,...i}=e,n=Object(m["D"])(this.resolveProps(),i);return this.$createElement("div",{staticClass:t},[this.$createElement(Object(m["g"])("Link"),{props:n.props,on:n.events},this.renderContent()),this.renderView()])}};be=Object(X["b"])([Q["a"]],be);let fe=class extends pe{resolveProps(){return Object(m["I"])(this.config)}renderIcon(e={}){const{className:t,...i}=e,n=Object(m["D"])(this.resolveProps(),i);return this.$createElement("div",{staticClass:t},[this.$createElement(Object(m["g"])("Icon"),{props:n.props,on:n.events}),this.renderView()])}};fe=Object(X["b"])([Q["a"]],fe);let ve=class extends Z{constructor(){super(...arguments),this.context=this.$$view,this.disabled=!1}get showValidationRulesAsNative(){return this.$$_h.isValidationRulesShownAsNative(this.$$view.getConfig().showFieldValidationRulesAsNative)}isTrue(e,t){return Object(m["k"])(this.$$view.getValue(),e,t)}getPlaceholder(){return this.$$_h.getPlaceholder()}setValueChecker(e){this.$$view.setFieldChecker(this.field.name,e)}formatValue(e=this.value){return this.$$_h.format(e)}onChange(e){this.$emit("change",e)}created(){const{readonly:e,disabled:t}=this.field;void 0!==e&&this.isTrue(e,!1)||void 0===t||(this.disabled=this.isTrue(t,!1),Object(m["r"])(t)&&this.on("change",()=>this.disabled=this.isTrue(t,!1)))}};Object(X["b"])([Object(Q["e"])({type:Object,default:()=>({})})],ve.prototype,"field",void 0),ve=Object(X["b"])([Q["a"]],ve);let $e=class extends ve{created(){this.setHeadlessWidget(new Y["h"](this.$props,this.$$view))}};$e=Object(X["b"])([Q["a"]],$e);let Oe=class extends ve{get positiveLabel(){return this.$$_h.getPositiveLabel()}get negativeLabel(){return this.$$_h.getNegativeLabel()}get negativeFirst(){return this.$$_h.isNegativeFirst()}created(){this.setHeadlessWidget(new Y["b"](this.$props,this.$$view))}};Object(X["b"])([Object(Q["e"])({type:Boolean,default:!1})],Oe.prototype,"value",void 0),Oe=Object(X["b"])([Q["a"]],Oe);let je=class extends ve{created(){this.setHeadlessWidget(new Y["l"](this.$props,this.$$view))}};Object(X["b"])([Object(Q["e"])({type:Number})],je.prototype,"value",void 0),je=Object(X["b"])([Q["a"]],je);let we=class extends ve{created(){this.setHeadlessWidget(new Y["j"](this.$props,this.$$view))}mounted(){const{rule:e,message:t}=this.config;e&&this.setValueChecker(i=>({success:e.test(""+i),message:t}))}};Object(X["b"])([Object(Q["e"])({type:Number})],we.prototype,"value",void 0),we=Object(X["b"])([Q["a"]],we);let ye=class extends ve{created(){this.setHeadlessWidget(new Y["r"](this.$props,this.$$view))}};Object(X["b"])([Object(Q["e"])({type:String,default:""})],ye.prototype,"value",void 0),ye=Object(X["b"])([Q["a"]],ye);let xe=class extends ve{created(){this.setHeadlessWidget(new Y["t"](this.$props,this.$$view))}};Object(X["b"])([Object(Q["e"])({type:String,default:""})],xe.prototype,"value",void 0),xe=Object(X["b"])([Q["a"]],xe);let Fe=class extends ve{constructor(){super(...arguments),this.internalOptions=[],this.options=[],this.optionMap={}}created(){this.setHeadlessWidget(new Y["f"](this.$props,this.$$view)),this.$$_h.initOptions(this.$$view,(e,t)=>{this.internalOptions=e,this.options=t(this.$$view.getValue()),this.optionMap=e.reduce((e,t)=>({...e,[t.value]:t}),{}),e.some(({available:e})=>Object(m["r"])(e))&&this.on("change",e=>this.options=t(e))})}};Fe=Object(X["b"])([Q["a"]],Fe);let Ce=class extends Fe{get displayText(){return this.$$_h.getSingleDisplayText(this.value,this.options)}};Object(X["b"])([Object(Q["e"])({type:[Number,String],default:""})],Ce.prototype,"value",void 0),Ce=Object(X["b"])([Q["a"]],Ce);let _e=class extends Fe{get displayText(){return this.$$_h.getMultipleDisplayText(this.value,this.optionMap)}};Object(X["b"])([Object(Q["e"])({type:Array,default:()=>[]})],_e.prototype,"value",void 0),_e=Object(X["b"])([Q["a"]],_e);let Ve=class extends ve{getDateValue(){return this.$$_h.getDateValue()}getRangeValue(){return this.$$_h.getRangeValue()}getRangePlaceholders(){return this.$$_h.getRangePlaceholders()}setDefaultFormat(e=""){this.$$_h.setDefaultFormat(e)}getDisplayFormat(){return this.$$_h.getDisplayFormat()}getSeparator(){return this.$$_h.getSeparator()}onDateChange(e){this.onChange(this.$$_h.resolveDateValue(e))}onRangeChange(e){this.$$_h.setRangeValue(e,this.onChange)}created(){this.setHeadlessWidget(new Y["d"](this.$props,this.$$view))}};Object(X["b"])([Object(Q["e"])({type:[String,Number,Date,Array]})],Ve.prototype,"value",void 0),Ve=Object(X["b"])([Q["a"]],Ve);let Se=class extends ve{constructor(){super(...arguments),this.internalValue=null}get labelKey(){return this.$$_h.getLabelKey()}get valueKey(){return this.$$_h.getValueKey()}fetchRelatedList(e,t=m["s"],i=m["s"]){this.$$_h.fetchRelatedList(e,t,i)}created(){this.setHeadlessWidget(new Y["p"](this.$props,this.$$view)),this.field.dynamic&&this.field.referenceValueGetter||(this.internalValue=this.value),this.field.dynamic&&this.on("dataChange",e=>this.$$_h.fetchReferenceValue(e,({data:e})=>this.internalValue=e))}};Object(X["b"])([Object(Q["e"])({type:[Object,Array],default:null})],Se.prototype,"value",void 0),Se=Object(X["b"])([Q["a"]],Se);let Ae=class extends Z{constructor(){super(...arguments),this.context=this.$$view,this.loading=!1,this.topActions=[],this.itemActions=[]}get fields(){return this.$$view.getFields()}initActionStuffs(){const{top:e,item:t,map:i}=Object(m["y"])(this.$$view);this.topActions=e,this.itemActions=t,this.__clientActionMap=i}getAction(e){return this.__clientActionMap[e]}execute(e,t=this.$$view){this.$$_h.execute(e,t)}created(){this.initActionStuffs(),this.on("busyChange",e=>this.loading=e)}};Ae=Object(X["b"])([Q["a"]],Ae);let De=class extends Ae{constructor(){super(...arguments),this.dataSource={},this.value={},this.validation={}}onFieldValueChange(e,t){this.$$view.setFieldValue(e,t)}getDefaultActionNames(e){return[].concat(this.getCommonBehavior("action."+e))}getDefaultActions(e=!1){const t=this.$$_h.getDefaultActions();if(!e)return t;const i=this.getDefaultActionNames("submitAction");return t.filter(e=>{const t=Object(m["r"])(e)?e:e.name;return!t||!Object(m["j"])(t,i)})}resolveActionsFromView(){return(this.$$view.getView().actions||[]).reduce((e,t)=>{let i;return Object(m["r"])(t)?i=t:Object(m["q"])(t)&&(i=t.name),i?{...e,[i]:!0}:e},{})}renderActions({executors:e={},actionText:t={},readonly:i}){const n=this.resolveActionsFromView(),s={},a={};this.getDefaultActionNames("submitAction").forEach(e=>{s[e]=()=>this.$$view.submit(),this.config.submitActionText?a[e]=this.config.submitActionText:t.submitActionText&&(a[e]=t.submitActionText)}),this.getDefaultActionNames("resetAction").forEach(e=>{s[e]=()=>this.$$view.reset(),this.config.resetActionText?a[e]=this.config.resetActionText:t.resetActionText&&(a[e]=t.resetActionText)}),this.getDefaultActionNames("cancelAction").forEach(e=>{this.config.cancelActionText?a[e]=this.config.cancelActionText:t.cancelActionText&&(a[e]=t.cancelActionText)});const r={...s,...e},o=[],l=this.$$view.getActions();return 0===l.length&&this.getDefaultActions(i).forEach(e=>{const t=Object(m["x"])(e);t&&l.push(t)}),l.forEach(e=>{if(!e.context||"single"===e.context){const t={...e};if(e.name){const i=r[e.name];!t.execute&&i&&(t.execute=i);const s=a[e.name];!n[e.name]&&s&&(t.text=s)}o.push(this.$createElement(Object(m["h"])("ActionRenderer"),{key:t.name||t.text,props:{action:t}}))}}),o}renderActionBar(e){if(!0===this.config.hideActionBar)return null;const{className:t,slotName:i,...n}=Object(m["r"])(e)?{className:e}:e||{},s=this.renderActions(n);if(0===s.length)return null;const a={staticClass:t,key:"ActionBarOfObjectViewStructuralWidget"};return i&&(a.slot=i),this.$createElement("div",a,s)}created(){this.setHeadlessWidget(new Y["o"](this.$props,this.$$view)),this.value=this.$$view.getValue(),this.on({dataChange:e=>{this.dataSource=e,this.$$view.setValue(e)},fieldValidate:({name:e,result:t})=>this.validation={...this.validation,[e]:t},change:e=>this.value=e})}};De=Object(X["b"])([Q["a"]],De);let Be=class extends Ae{constructor(){super(...arguments),this.dataSource=[],this.pageNum=1,this.pageSize=20,this.total=0}get searchable(){return!!this.$$view.getSearch()}get searchEventName(){return this.$$search?this.$$search.isReady()?"mount."+this.$$view.getId():y(this,"ready"):""}renderSearch(e){const t=this.$createElement;return this.searchable?t("div",{staticClass:e,key:"SearchOfListViewStructuralWidget"},[t(Object(m["h"])("SearchRenderer"))]):null}renderActionBar(e,t){const i=this.$createElement;return!0!==this.config.hideActionBar&&this.topActions.length>0?i("div",{staticClass:e,key:"ActionBarOfListViewStructuralWidget"},this.topActions.map(({config:e={},...n})=>i(Object(m["h"])("ActionRenderer"),{key:n.name||n.text,props:{action:{...n,config:t?{size:t,...e}:e}}}))):null}initContextEvents(){if(this.on({dataChange:e=>this.dataSource=e,totalChange:e=>this.total=e,currentPageChange:e=>this.pageNum=e,pageSizeChange:e=>this.pageSize=e}),Object(m["m"])(this.$$view)){const e=m["t"].bind(null,this.$$history);this.on({currentPageChange:t=>e({pageSize:this.pageSize,pageNum:t}),pageSizeChange:t=>e({pageSize:t,pageNum:this.pageNum})})}}fetchData(){this.$$search?this.$$search.on(this.searchEventName,()=>this.$$_h.loadData()):this.$$_h.loadData()}created(){this.setHeadlessWidget(new Y["n"](this.$props,this.$$view)),this.$$_h.initPagination(this.pageNum,({pageSize:e,pageNum:t})=>{this.pageSize=e,this.pageNum=t}),this.initContextEvents(),this.fetchData()}beforeDestroy(){this.$$search&&this.$$search.off(this.searchEventName)}};Object(X["b"])([Object(Q["c"])({from:"searchContext",default:null})],Be.prototype,"$$search",void 0),Be=Object(X["b"])([Q["a"]],Be);let We=class extends De{getRecordParams(){const{recordGetterRouteParams:e="id"}=this.config,t=this.$$route.params;if(Object(m["q"])(e))return Object.entries(e).reduce((e,[i,n])=>({...e,[i]:t[n]}),{});const i=[].concat(e);return i.length>1?i.reduce((e,i)=>({...e,[i]:t[i]}),{}):t[i[0]]}isNewOne(){return!this.getRecordParams()||!this.$$view.getOne}fetchData(){if(this.isNewOne())return;this.$$view.setBusy(!0);const e=this.$$view;e.getOne(this.getRecordParams(),t=>e.setDataSource(t)).finally(()=>this.$$view.setBusy(!1))}renderForm(e={}){const{className:t,readonly:i=!1,fields:n=this.fields,children:s=null}=e;return this.$createElement(Object(m["h"])("FormRenderer"),{props:{className:t,fields:n,actions:this.$$view.getActions(),value:this.value,validation:this.validation,config:this.config,readonly:i},on:{change:this.onFieldValueChange}},s)}beforeDestroy(){this.$$view.reset()}};We=Object(X["b"])([Q["a"]],We);var Ne={topButtonActionSize:"medium",inlineActionRenderType:"button",inlineButtonActionSize:"small"};function Re(e,t){return p["default"].extend({name:"CellRenderer",provide:{viewContext:e},render:t})}function Ee(e,t){const i=e.widget;return!Object(m["n"])(i)||F(i)?(i,n)=>i(Re(t.getChildren()[n.index],()=>i(Object(m["h"])("FieldRenderer"),{props:{field:e,value:n.row[n.column.key],readonly:!0},attrs:n}))):i}function Te(e,t,i){if(0===Object(m["J"])(e).length)return null;const n=Object(m["A"])(e),s={title:"操作",render:(s,{index:a})=>{const r=e.getChildren()[a];return s(Re(r,()=>s("div",Object(m["B"])(r.getActions(),n).map(e=>{const{renderType:n=i,config:a={},...r}=e,o=s(Object(m["h"])("ActionRenderer"),{props:{action:{...r,renderType:n,config:{size:t,...a}}},key:(r.name||r.text)+"InlineActionOfTableViewWidget"}),l=Object(m["g"])("Tooltip");return!0===a.showTooltip&&l?s(l,{props:{className:"ActionWidgetTooltip",content:e.text||""},key:(r.name||r.text)+"InlineActionTooltipOfTableViewWidget"},[o]):o}))))}},{operationColumnWidth:a}=e.getConfig();return a&&(s.width=Object(m["o"])(a)?a+"px":a),s}let ke=class extends Be{constructor(){super(...arguments),this.tableProps={}}renderDataTable(e){return this.$createElement(Object(m["g"])("DataTable"),{key:"DataTableOfTableViewStructuralWidget",props:{...this.tableProps,className:e,dataSource:this.dataSource,currentPage:this.pageNum,pageSize:this.pageSize,total:this.total,pageSizes:this.config.pageSizes||this.getCommonBehavior("view.listViewPageSizes"),loading:this.loading,autoHeight:!0===this.config.autoHeight,density:this.config.density||this.getCommonBehavior("view.listViewDensity")},on:{"selection-change":e=>this.$$view.setValue(e),"current-change":e=>this.$$view.setCurrentPage(e),"size-change":e=>this.$$view.setPageSize(e)}})}created(){this.setBehaviors("view.table",Ne),this.tableProps=Object(m["P"])(this.$$view,this.getBehavior("inlineButtonActionSize"),this.getBehavior("inlineActionRenderType"),Ee,Te)}};ke=Object(X["b"])([Q["a"]],ke);let Le=class extends De{constructor(){super(...arguments),this.dialogVisible=!1}get opener(){return this.$$view.getOpener()}get dialogTitle(){return this.config.title||""}closeDialog(){this.dialogVisible=!1,this.$$view.reset()}fetchData(){const e=this.$$view;"object"===this.opener.getView().category&&e.getOne?(e.setBusy(!0),e.getOne(this.opener.getValue(),t=>e.setDataSource(t)).finally(()=>e.setBusy(!1))):this.initialValueCache&&e.setValue(this.initialValueCache)}initDialogViewCommonContextEvents(){const e=`${this.opener.getId()}:${[this.$$module.getModuleName(),this.$$view.getView().name].join("-")}`,t="dialog-view-show."+e;this.opener.off(t),this.opener.on(t,()=>{this.dialogVisible=!0,this.fetchData()});const i="dialog-view-hide."+e;this.opener.off(i),this.opener.on(i,()=>this.closeDialog())}setInitialValueCache(){const{initialValue:e}=this.$$view.getView();e&&(this.initialValueCache={...e})}renderDialog(e={}){const{className:t,actionBarClassName:i,executors:n={[this.getCommonBehavior("action.cancelAction")]:this.closeDialog.bind(this)},actionText:s,children:a}=e,{width:r=520}=this.config,o=this.$createElement;return o(Object(m["g"])("Dialog"),{props:{className:[t,this.config.className],title:this.dialogTitle,width:Object(m["p"])(r)?r+"px":r,visible:this.dialogVisible,appendToBody:!0,destroyOnClose:!0,disableMask:!0,...Object(m["M"])(this.config)},on:{close:this.closeDialog}},[o(Object(m["g"])("Wait"),{props:{busy:this.loading}},a),this.renderActionBar({className:i,slotName:"footer",executors:n,actionText:s})])}created(){this.initDialogViewCommonContextEvents(),this.setInitialValueCache()}};function Pe(e,t,i){const{disableDate:n,showNow:s}=Object(m["u"])(t,["disableDate","showNow"]),a={showNow:s};return Object(m["n"])(n)&&(a.disableDate=t=>n(e,t,i)),a}function Ie(e){const t={value:e.value,placeholder:e.getPlaceholder(),disabled:e.disabled,prefix:e.config.prefix,suffix:e.config.suffix};if(e.showValidationRulesAsNative){const{min:i,max:n}=e.field;Object(m["o"])(i)&&(t.min=i),Object(m["o"])(n)&&(t.max=n)}return t}function Me(e,t=!1){const i={value:e.value,placeholder:e.getPlaceholder()};if(!0!==t&&(i.disabled=e.disabled),e.showValidationRulesAsNative){const{min:n,max:s}=!0===t?e.filter:e.field;Object(m["o"])(n)&&(i.minLength=n),Object(m["o"])(s)&&(i.maxLength=s)}return i}Le=Object(X["b"])([Q["a"]],Le);let He=class extends ae{render(e){const t=Me(this,!0);return this.config.className&&(t.className=this.config.className),e(Object(m["g"])("TextInput"),{props:t,on:{input:this.onChange}})}};He=Object(X["b"])([Q["a"]],He);var ze=He;let Ge=class extends re{render(e){const t=Me(this,!0);return this.config.className&&(t.className=this.config.className),e(Object(m["g"])("TextInput"),{props:t,on:{input:this.onChange}})}};Ge=Object(X["b"])([Q["a"]],Ge);var qe=Ge;let Ue=class extends le{handleOptionChange(e){this.onChange(null==e?"":e),this.searchImmediately&&this.$$search.submit()}render(e){const t=this.options.map(t=>C(e,"Option",{props:Object(m["u"])(t,["label","value"]),key:`Option${t.value}OfSelectEditEnumFilterWidget`})),i=this.getCommonBehavior("filter.showEmptyValueOption",!1);i&&t.unshift(C(e,"Option",{props:{label:this.getCommonBehavior("filter.emptyValueOptionLabel"),value:""},key:"OptionAllOfSelectEditEnumFilterWidget"}));const n={value:this.value,placeholder:this.getPlaceholder(),clearable:!i},{className:s,width:a}=this.config;return s&&(n.className=s),a&&(n.style={width:Object(m["o"])(a)?a+"px":a}),e(Object(m["g"])("Select"),{props:n,on:{change:this.handleOptionChange}},t)}};Ue=Object(X["b"])([Q["a"]],Ue);var Ke=Ue;let Je=class extends ce{handleOptionChange(e){this.onChange(e),this.searchImmediately&&this.$$search.submit()}render(e){const t={value:this.value,placeholder:this.getPlaceholder(),multiple:!0},{className:i,width:n}=this.config;return i&&(t.className=i),n&&(t.style={width:Object(m["o"])(n)?n+"px":n}),e(Object(m["g"])("Select"),{props:t,on:{change:this.handleOptionChange}},this.options.map(t=>C(e,"Option",{props:Object(m["u"])(t,["label","value"]),key:`Option${t.value}OfSelectEditMultiEnumFilterWidget`})))}};Je=Object(X["b"])([Q["a"]],Je);var Xe=Je;let Qe=class extends ue{handleRangeChange(e,t){this.onRangeChange(t),this.searchImmediately&&this.$$search.submit()}render(e){return e(Object(m["g"])("DateRangePicker"),{props:{value:this.getRangeValue(),placeholder:this.getRangePlaceholders(),format:this.getDisplayFormat(),separator:this.getSeparator(),pickerOption:Pe(this.getRangeValue(),this.config,this.$$search.getValue())},on:{change:this.handleRangeChange}})}created(){this.setDefaultFormat(this.getCommonBehavior("filter.dateFormat"))}};Qe=Object(X["b"])([Q["a"]],Qe);var Ye=Qe;let Ze=class extends ue{handleRangeChange(e,t){this.onRangeChange(t),this.searchImmediately&&this.$$search.submit()}render(e){return e(Object(m["g"])("DateTimeRangePicker"),{props:{value:this.getRangeValue(),placeholder:this.getRangePlaceholders(),format:this.getDisplayFormat(),separator:this.getSeparator(),pickerOption:Pe(this.getRangeValue(),this.config,this.$$search.getValue())},on:{change:this.handleRangeChange}})}created(){this.setDefaultFormat(this.getCommonBehavior("filter.dateTimeFormat"))}};Ze=Object(X["b"])([Q["a"]],Ze);var et=Ze;let tt=class extends ge{render(e){const t=this.renderFilters(),i=this.isStandalone(),n=this.renderButtonGroup();i||t.push(n);const s=e(Object(m["g"])("Form"),{key:"FormOfFormSearchWidget",props:this.resolveProps()},t);return e("div",{staticClass:this.getStyleClassName("FormSearch")},i?[s,n]:[s])}};tt=Object(X["b"])([Q["a"]],tt);var it=tt,nt={formControlSize:"medium",searchable:!0,resettable:!0,submitButtonAsPrimary:!0};let st=class extends he{resolveSearchable(){return Object(m["l"])(this.config.searchable)?this.config.searchable:!1!==this.getBehavior("searchable")}resolveResettable(){return Object(m["l"])(this.config.resettable)?this.config.resettable:!0===this.getBehavior("resettable")}handleSearch(e){this.submit(),e&&e.preventDefault()}render(e){const t=this.getBehavior("formControlSize"),i=[],n={};this.filters.forEach(t=>{t.hidden||(n[t.name]=t,i.push(e(Object(m["g"])("FormField"),{props:{label:t.label}},[e(Object(m["h"])("FilterRenderer"),{props:{filter:t,value:this.condition[t.name]}})])))});const s=this.resolveSearchable(),a={className:"PopupSearch-button",size:t,nativeType:"submit"};!0===this.getBehavior("submitButtonAsPrimary")&&(a.color="primary");const r=[];s&&r.push(e(Object(m["g"])("Button"),{props:a,on:{click:this.handleSearch}},"查询")),this.resolveResettable()&&r.push(e(Object(m["g"])("Button"),{props:{className:"PopupSearch-button",size:t},on:{click:e=>{this.reset(),e.preventDefault()}}},"重置"));const o=r.length>0?e("div",{staticClass:"PopupSearch-buttonGroup"},r):null;o&&i.push(o);const l=[e(Object(m["g"])("Popover"),{props:{trigger:"click"}},[e(Object(m["g"])("Button"),[e(Object(m["g"])("Icon"),{props:{refs:"el:view"}})]),e(Object(m["g"])("Form"),{props:{value:this.condition,controlSize:t,layout:"vertical"},slot:"content"},i)])];if((this.config.shortcuts||[]).length>0){const i=[];this.config.shortcuts.forEach(t=>{const s=n[t];s&&i.push(e(Object(m["g"])("FormField"),[e(Object(m["h"])("FilterRenderer"),{props:{filter:s,value:this.condition[s.name]}})]))}),i.length>0&&l.unshift(e(Object(m["g"])("Form"),{props:{value:this.condition,controlSize:t,layout:"inline"}},i))}return e("div",l)}created(){this.setBehaviors("search.popup",nt),this.initCondition()}};st=Object(X["b"])([Q["a"]],st);var at=st;let rt=class extends me{render(){return this.renderButton({className:this.resolveClassNames("ButtonActionWidget"),click:()=>this.onExecute()})}};rt=Object(X["b"])([Q["a"]],rt);var ot=rt;let lt=class extends be{render(){return this.renderLink({className:this.resolveClassNames("ActionWidget LinkActionWidget"),click:()=>this.onExecute()})}};lt=Object(X["b"])([Q["a"]],lt);var ct=lt;let ut=class extends fe{render(){const{primary:e,danger:t}=this.action,i=["IconActionWidget"];return e&&i.push("IconActionWidget--primary"),t&&i.push("IconActionWidget--danger"),this.renderIcon({className:this.resolveClassNames(i.join(" ")),click:()=>this.onExecute()})}};ut=Object(X["b"])([Q["a"]],ut);var ht=ut;let dt=class extends Oe{render(e){const t=e(Object(m["g"])("Radio"),{props:{value:!0}},this.positiveLabel),i=e(Object(m["g"])("Radio"),{props:{value:!1}},this.negativeLabel);return e(Object(m["g"])("RadioGroup"),{props:{value:this.value,disabled:this.disabled},on:{change:this.onChange}},this.negativeFirst?[i,t]:[t,i])}};dt=Object(X["b"])([Q["a"]],dt);var gt=dt,pt=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("span",[e._v(e._s(e.value?e.positiveLabel:e.negativeLabel))])},mt=[];let bt=class extends Oe{};bt=Object(X["b"])([Q["a"]],bt);var ft=bt,vt=ft,$t=i("2877"),Ot=Object($t["a"])(vt,pt,mt,!1,null,null,null),jt=Ot.exports;let wt=class extends Oe{render(e){return e(Object(m["g"])("Switch"),{props:{value:this.value,disabled:this.disabled},on:{change:this.onChange}})}};wt=Object(X["b"])([Q["a"]],wt);var yt=wt,xt=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("span",[e._v(e._s(e.value?e.positiveLabel:e.negativeLabel))])},Ft=[];let Ct=class extends Oe{};Ct=Object(X["b"])([Q["a"]],Ct);var _t=Ct,Vt=_t,St=Object($t["a"])(Vt,xt,Ft,!1,null,null,null),At=St.exports;let Dt=class extends je{render(e){return e(Object(m["g"])("NumberInput"),{props:Ie(this),on:{change:e=>this.onChange(Object(m["p"])(e)?parseFloat(e):e)}})}};Dt=Object(X["b"])([Q["a"]],Dt);var Bt=Dt,Wt=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("span",[e._v(e._s(e.formatValue()))])},Nt=[];let Rt=class extends je{};Rt=Object(X["b"])([Q["a"]],Rt);var Et=Rt,Tt=Et,kt=Object($t["a"])(Tt,Wt,Nt,!1,null,null,null),Lt=kt.exports;let Pt=class extends we{render(e){return e(Object(m["g"])("NumberInput"),{props:Ie(this),on:{change:e=>this.onChange(Object(m["p"])(e)?parseFloat(e):e)}})}};Pt=Object(X["b"])([Q["a"]],Pt);var It=Pt,Mt=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("span",[e._v(e._s(e.formatValue()))])},Ht=[];let zt=class extends we{};zt=Object(X["b"])([Q["a"]],zt);var Gt=zt,qt=Gt,Ut=Object($t["a"])(qt,Mt,Ht,!1,null,null,null),Kt=Ut.exports;let Jt=class extends ye{render(e){return e(Object(m["g"])("TextInput"),{props:{...Me(this),prefix:this.config.prefix,suffix:this.config.suffix},on:{input:this.onChange}})}};Jt=Object(X["b"])([Q["a"]],Jt);var Xt=Jt,Qt=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("span",[e._v(e._s(e.formatValue()))])},Yt=[];let Zt=class extends ye{};Zt=Object(X["b"])([Q["a"]],Zt);var ei=Zt,ti=ei,ii=Object($t["a"])(ti,Qt,Yt,!1,null,null,null),ni=ii.exports;let si=class extends ye{render(e){return e(Object(m["g"])("Password"),{props:Me(this),on:{input:this.onChange}})}};si=Object(X["b"])([Q["a"]],si);var ai=si;let ri=class extends ye{render(e){return e(Object(m["g"])("UrlInput"),{props:{...Me(this),scheme:this.config.scheme||"http",noAuthority:this.config.noAuthority},on:{change:this.onChange}})}};ri=Object(X["b"])([Q["a"]],ri);var oi=ri,li={showWordLimit:!1,rows:3};let ci=class extends xe{created(){this.setBehaviors("field.textarea",li)}render(e){let t=this.config.showWordLimit;void 0===t&&(t=this.getBehavior("showWordLimit"));const i={...Me(this),rows:this.config.rows||this.getBehavior("rows"),resize:"none"};return this.showValidationRulesAsNative&&Object(m["o"])(this.field.max)&&(i.showWordage=t),e(Object(m["g"])("TextArea"),{props:i,on:{input:this.onChange}})}};ci=Object(X["b"])([Q["a"]],ci);var ui=ci,hi=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("p",[e._v(e._s(e.formatValue()))])},di=[];let gi=class extends xe{};gi=Object(X["b"])([Q["a"]],gi);var pi=gi,mi=pi,bi=Object($t["a"])(mi,hi,di,!1,null,null,null),fi=bi.exports;let vi=class extends Ce{render(e){return e(Object(m["g"])("Select"),{props:{value:this.value,placeholder:this.getPlaceholder(),clearable:!this.field.required,disabled:this.disabled},on:{change:this.onChange}},this.options.map(t=>C(e,"Option",{props:Object(m["u"])(t,["label","value","disabled"]),key:`Option${t.value}OfSelectEditEnumFieldWidget`})))}};vi=Object(X["b"])([Q["a"]],vi);var $i=vi,Oi=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("span",[e._v(e._s(e.displayText))])},ji=[];let wi=class extends Ce{};wi=Object(X["b"])([Q["a"]],wi);var yi=wi,xi=yi,Fi=Object($t["a"])(xi,Oi,ji,!1,null,null,null),Ci=Fi.exports;let _i=class extends Ce{render(e){return e(Object(m["g"])("RadioGroup"),{props:{value:this.value,disabled:this.disabled},on:{change:this.onChange}},this.options.map(t=>e(Object(m["g"])("Radio"),{props:{value:t.value,disabled:t.disabled},key:`Option${t.value}OfRadioEditEnumFieldWidget`},t.hint?[t.label,e(Object(m["g"])("Tooltip"),{props:{content:t.hint}},[e(Object(m["g"])("Icon"),{props:{refs:this.config.hintIcon||this.getCommonBehavior("field.hintIcon")}})])]:t.label)))}};_i=Object(X["b"])([Q["a"]],_i);var Vi=_i,Si=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("span",[e._v(e._s(e.displayText))])},Ai=[];let Di=class extends Ce{};Di=Object(X["b"])([Q["a"]],Di);var Bi=Di,Wi=Bi,Ni=Object($t["a"])(Wi,Si,Ai,!1,null,null,null),Ri=Ni.exports;let Ei=class extends _e{render(e){return e(Object(m["g"])("Select"),{props:{value:this.value,placeholder:this.getPlaceholder(),multiple:!0,disabled:this.disabled},on:{change:this.onChange}},this.options.map(t=>C(e,"Option",{props:Object(m["u"])(t,["label","value","disabled"]),key:`Option${t.value}OfSelectEditMultiEnumFieldWidget`})))}};Ei=Object(X["b"])([Q["a"]],Ei);var Ti=Ei,ki=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("span",[e._v(e._s(e.displayText))])},Li=[];let Pi=class extends _e{};Pi=Object(X["b"])([Q["a"]],Pi);var Ii=Pi,Mi=Ii,Hi=Object($t["a"])(Mi,ki,Li,!1,null,null,null),zi=Hi.exports;let Gi=class extends Ve{render(e){return e(Object(m["g"])("DatePicker"),{props:{value:this.getDateValue(),placeholder:this.getPlaceholder(),disabled:this.disabled,format:this.getDisplayFormat(),pickerOption:Pe(this.getDateValue(),this.config,this.$$view.getValue())},on:{change:(e,t)=>this.onDateChange(t)}})}created(){this.setDefaultFormat(this.getCommonBehavior("field.dateFormat"))}};Gi=Object(X["b"])([Q["a"]],Gi);var qi=Gi,Ui=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("span",[e._v(e._s(e.getDateValue()))])},Ki=[];let Ji=class extends Ve{created(){this.setDefaultFormat(this.getCommonBehavior("field.dateFormat"))}};Ji=Object(X["b"])([Q["a"]],Ji);var Xi=Ji,Qi=Xi,Yi=Object($t["a"])(Qi,Ui,Ki,!1,null,null,null),Zi=Yi.exports;let en=class extends Ve{render(e){return e(Object(m["g"])("DateRangePicker"),{props:{value:this.getRangeValue(),placeholder:this.getRangePlaceholders(),disabled:this.disabled,format:this.getDisplayFormat(),separator:this.getSeparator(),pickerOption:Pe(this.getRangeValue(),this.config,this.$$view.getValue())},on:{change:(e,t)=>this.onRangeChange(t)}})}created(){this.setDefaultFormat(this.getCommonBehavior("field.dateFormat"))}};en=Object(X["b"])([Q["a"]],en);var tn=en,nn=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("span",[e._v(e._s(e.getRangeValue().join(" "+e.getSeparator()+" ")))])},sn=[];let an=class extends Ve{created(){this.setDefaultFormat(this.getCommonBehavior("field.dateFormat"))}};an=Object(X["b"])([Q["a"]],an);var rn=an,on=rn,ln=Object($t["a"])(on,nn,sn,!1,null,null,null),cn=ln.exports;let un=class extends Ve{render(e){return e(Object(m["g"])("DateTimePicker"),{props:{value:this.value,placeholder:this.getPlaceholder(),disabled:this.disabled,format:this.getDisplayFormat(),pickerOption:Pe(this.value,this.config,this.$$view.getValue())},on:{change:(e,t)=>this.onDateChange(t)}})}created(){this.setDefaultFormat(this.getCommonBehavior("field.dateTimeFormat"))}};un=Object(X["b"])([Q["a"]],un);var hn=un,dn=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("span",[e._v(e._s(e.getDateValue()))])},gn=[];let pn=class extends Ve{created(){this.setDefaultFormat(this.getCommonBehavior("field.dateTimeFormat"))}};pn=Object(X["b"])([Q["a"]],pn);var mn=pn,bn=mn,fn=Object($t["a"])(bn,dn,gn,!1,null,null,null),vn=fn.exports;let $n=class extends Ve{render(e){return e(Object(m["g"])("DateTimeRangePicker"),{props:{value:this.getRangeValue(),placeholder:this.getRangePlaceholders(),disabled:this.disabled,format:this.getDisplayFormat(),separator:this.getSeparator(),pickerOption:Pe(this.getRangeValue(),this.config,this.$$view.getValue())},on:{change:(e,t)=>this.onRangeChange(t)}})}created(){this.setDefaultFormat(this.getCommonBehavior("field.dateTimeFormat"))}};$n=Object(X["b"])([Q["a"]],$n);var On=$n,jn=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("span",[e._v(e._s(e.getRangeValue().join(" "+e.getSeparator()+" ")))])},wn=[];let yn=class extends Ve{created(){this.setDefaultFormat(this.getCommonBehavior("field.dateTimeFormat"))}};yn=Object(X["b"])([Q["a"]],yn);var xn=yn,Fn=xn,Cn=Object($t["a"])(Fn,jn,wn,!1,null,null,null),_n=Cn.exports;let Vn=class extends ke{render(e){return e("div",{class:[this.getStyleClassName("TableView"),this.config.className]},[this.renderSearch(this.getStyleClassName("TableView-search")),this.renderActionBar(this.getStyleClassName("TableView-tableActions"),this.getBehavior("topButtonActionSize")),this.renderDataTable(this.getStyleClassName("TableView-dataTable"))])}created(){this.setStyleClassNames(this.$style)}};Vn=Object(X["b"])([Q["a"]],Vn);var Sn,An,Dn=Vn,Bn=Dn,Wn=i("c3a7");function Nn(e){this["$style"]=Wn["default"].locals||Wn["default"]}var Rn=Object($t["a"])(Bn,Sn,An,!1,Nn,null,null),En=Rn.exports,Tn={actionBarOutside:!1,actionBarAlignment:"left"};let kn=class extends We{isActionBarOutside(){return Object(m["l"])(this.config.actionBarOutside)?this.config.actionBarOutside:Object(m["l"])(this.getBehavior("actionBarOutside"))?this.getBehavior("actionBarOutside"):this.getCommonBehavior("view.objectViewActionBarOutside",!1)}resolveActionBarAlignment(){return this.config.actionBarAlignment?this.config.actionBarAlignment:this.getBehavior("actionBarAlignment")||this.getCommonBehavior("view.objectViewActionBarAlignment","left")}initFormViewContextEvents(){if(!0===this.config.readonly)return;const e=this.isNewOne(),{gotoListView:t,listViewRouteName:i=this.$$module.getModuleName()+"List",successMessage:n=(e?"添加":"修改")+"成功"}=this.config,s=!1!==t?()=>this.$$history.push({name:i}):()=>this.$$app.success(Object(m["n"])(n)?n(this.value):n);this.on("submit",()=>{this.$$view.setBusy(!0),e?this.$$view.insert(this.value,s,e=>this.$$app.error(e)).finally(()=>this.$$view.setBusy(!1)):this.$$view.update(this.value,s,e=>this.$$app.error(e)).finally(()=>this.$$view.setBusy(!1))})}render(e){const t=this.isActionBarOutside(),i=!0===this.config.readonly,n=this.renderActionBar({className:this.$style["FormViewWidget-actionBar"],executors:{[this.getCommonBehavior("action.cancelAction")]:()=>this.$$history.push({name:this.config.listViewRouteName||this.$$module.getModuleName()+"List"})},readonly:i});return e(Object(m["g"])("Wait"),{props:{className:[this.$style.FormViewWidget,this.$style["FormViewWidget--actionBar"+Object(m["a"])(this.resolveActionBarAlignment())],{[this.$style["FormViewWidget--actionBarOutside"]]:t},this.config.className],nativeStyle:this.getStyle(),busy:this.loading}},t?[e("div",{class:this.$style["FormViewWidget-formContainer"]},[this.renderForm({className:this.$style["FormViewWidget-form"],readonly:i})]),n]:[this.renderForm({className:this.$style["FormViewWidget-form"],readonly:i,children:[n]})])}created(){this.setBehaviors("view.form",Tn),this.initFormViewContextEvents(),this.fetchData()}};kn=Object(X["b"])([Q["a"]],kn);var Ln,Pn,In=kn,Mn=In,Hn=i("a19c");function zn(e){this["$style"]=Hn["default"].locals||Hn["default"]}var Gn=Object($t["a"])(Mn,Ln,Pn,!1,zn,null,null),qn=Gn.exports;let Un=class extends Le{render(e){const{$$child:t}=this.config;let i;return void 0===t?i=this.$slots.default:F(t)?i=[e(t)]:Object(m["r"])(t),this.renderDialog({className:this.getStyleClassName("DialogViewWidget"),actionBarClassName:this.getStyleClassName("DialogViewWidget-actionBar"),children:i})}created(){this.setStyleClassNames(this.$style)}};Un=Object(X["b"])([Q["a"]],Un);var Kn,Jn,Xn=Un,Qn=Xn,Yn=i("7454");function Zn(e){this["$style"]=Yn["default"].locals||Yn["default"]}var es=Object($t["a"])(Qn,Kn,Jn,!1,Zn,null,null),ts=es.exports;function is(e){return"object"===e.getView().category&&!!e.getParent()}let ns=class extends Le{get dialogTitle(){const{title:e,moduleLabel:t}=this.config;return e||(t?`${is(this.$$view.getOpener())?"修改":"新增"}${t}`:"")}initFormDialogViewContextEvents(){const e=this.$$view.getOpener(),t=()=>{"list"===e.getView().category?e.reload():is(e)?e.getParent().reload():e.emit(`dialog-view-submit.${e.getId()}:${[this.$$module.getModuleName(),this.$$view.getView().name].join("-")}`,this.value),this.closeDialog()};this.on("submit",()=>{this.$$view.setBusy(!0),is(e)?this.$$view.update(this.value,t,e=>this.$$app.error(e)).finally(()=>this.$$view.setBusy(!1)):this.$$view.insert(this.value,t,e=>this.$$app.error(e)).finally(()=>this.$$view.setBusy(!1))})}render(e){return this.renderDialog({className:this.getStyleClassName("FormDialogViewWidget"),actionBarClassName:this.getStyleClassName("FormDialogViewWidget-actionBar"),actionText:{submitActionText:"确定"},children:[e(Object(m["h"])("FormRenderer"),{props:{fields:this.fields,value:this.value,validation:this.validation,config:{formControlLabelWidth:90,formControlSize:"small",...Object(m["N"])(this.config,["moduleLabel"])}},on:{change:this.onFieldValueChange}},this.$slots.default)]})}created(){this.setStyleClassNames(this.$style),this.initFormDialogViewContextEvents()}};ns=Object(X["b"])([Q["a"]],ns);var ss,as,rs=ns,os=rs,ls=i("bd99");function cs(e){this["$style"]=ls["default"].locals||ls["default"]}var us=Object($t["a"])(os,ss,as,!1,cs,null,null),hs=us.exports;let ds=class extends Q["g"]{};Object(X["b"])([Object(Q["c"])({from:"viewContext",default:null})],ds.prototype,"$$view",void 0),ds=Object(X["b"])([Q["a"]],ds);var gs=ds;let ps=class extends gs{render(e){return this.action?e(Object(m["z"])(this.$$view.getModuleContext(),this.$props),{props:{action:this.action}}):null}};Object(X["b"])([Object(Q["e"])({type:Object,default:null})],ps.prototype,"action",void 0),ps=Object(X["b"])([Object(Q["a"])({abstract:!0})],ps);var ms=ps;let bs=class extends gs{render(e){const t=Object(m["H"])(this.$$view.getModuleContext(),this.$props);return t?e(t,{props:{filter:this.filter,value:this.value},on:{change:e=>this.$emit("change",this.filter.name,e)}}):null}};Object(X["b"])([Object(Q["e"])({type:Object,default:()=>({})})],bs.prototype,"filter",void 0),Object(X["b"])([Object(Q["e"])()],bs.prototype,"value",void 0),bs=Object(X["b"])([Object(Q["a"])({abstract:!0})],bs);var fs=bs;let vs=class extends gs{render(e){return e(Object(m["O"])(this.$$view))}};vs=Object(X["b"])([Object(Q["a"])({abstract:!0})],vs);var $s=vs;let Os=class extends gs{render(e){const t=Object(m["G"])(this.$$view.getModuleContext(),this.$props);return t?e(t,{props:{field:this.field,value:this.value},on:{change:e=>this.$emit("change",this.field.name,e)}}):null}};Object(X["b"])([Object(Q["e"])({type:Object,default:()=>({})})],Os.prototype,"field",void 0),Object(X["b"])([Object(Q["e"])()],Os.prototype,"value",void 0),Object(X["b"])([Object(Q["e"])({type:Boolean,default:!1})],Os.prototype,"readonly",void 0),Os=Object(X["b"])([Object(Q["a"])({abstract:!0})],Os);var js=Os;let ws=class extends gs{render(e){const t=Object(m["Q"])(this.$props,F,v);return t?e(t):null}};Object(X["b"])([Object(Q["e"])({type:String,default:""})],ws.prototype,"view",void 0),Object(X["b"])([Object(Q["e"])({type:Array,default:()=>[]})],ws.prototype,"params",void 0),ws=Object(X["b"])([Object(Q["a"])({abstract:!0})],ws);var ys=ws;let xs=class extends gs{renderField(e){const{name:t,label:i,hint:n,config:s={}}=e,a=(this.validation||{})[t]||{success:!0},r=Object(m["k"])(this.value,this.readonly||e.readonly),o={label:i,required:Object(m["F"])(this.value,r,e.required),message:a.success?"":a.message},l=this.$createElement,c=[l(js,{key:t+"FieldRendererOfFormRenderer",props:{field:e,value:this.value[t],readonly:r},on:{change:(...e)=>this.$emit("change",...e)}})],u=m["E"].bind(null,s);return!0===u("showHintAtFormItem",!1)&&("label"===u("hintPositionOfFormItem","explain")&&n?c.push(l("span",{slot:"label"},[i,l(Object(m["g"])("Tooltip"),{props:{content:n}},[l(Object(m["g"])("Icon"),{props:{refs:u("hintIcon","")}})])])):o.hint=n),l(Object(m["g"])("FormField"),{props:o,key:t+"FormFieldOfFormRenderer"},c)}renderFieldRow(e,t){let i;Object(m["o"])(t)&&t>-1&&(i=24/e.length);const n=this.$createElement;return n(Object(m["g"])("GridRow"),{props:{gutter:24},key:`FieldRow${e[0].name}OfFormRenderer`},e.map((e,s)=>n(Object(m["g"])("GridCol"),{props:Object(m["o"])(t)?{span:i}:t[s],key:`FieldCol${e.name}OfFormRenderer`},[this.renderField(e)])))}renderFieldGroup(e,t){const i=this.$createElement;return i("div",{staticClass:"HandieFormRenderer-group",key:`${e}${t.length}FieldGroupOfFormRenderer`},[i("div",{staticClass:"HandieFormRenderer-groupHeader"},e),i("div",{staticClass:"HandieFormRenderer-groupBody"},t)])}render(e){return Object(m["v"])(this.$props,this.renderFieldGroup.bind(this),this.renderField.bind(this),this.renderFieldRow.bind(this),({FormControl:t,props:i,children:n})=>e(t,{props:i},[...n,this.$slots.default?e(Object(m["g"])("FormField"),{props:{label:" "}},this.$slots.default):null]))}};Object(X["b"])([Object(Q["e"])({type:Array,default:()=>[]})],xs.prototype,"fields",void 0),Object(X["b"])([Object(Q["e"])({type:Object,default:()=>({})})],xs.prototype,"value",void 0),Object(X["b"])([Object(Q["e"])({type:Boolean,default:!1})],xs.prototype,"readonly",void 0),Object(X["b"])([Object(Q["e"])({type:Object,default:()=>({})})],xs.prototype,"validation",void 0),Object(X["b"])([Object(Q["e"])({type:Object,default:()=>({})})],xs.prototype,"config",void 0),Object(X["b"])([Object(Q["e"])({type:Object,default:null})],xs.prototype,"behavior",void 0),Object(X["b"])([Object(Q["e"])()],xs.prototype,"className",void 0),xs=Object(X["b"])([Object(Q["a"])({abstract:!0})],xs);var Fs=xs;function Cs(e,t="control"){return Object.keys(e).map(i=>({name:i,ctor:e[i],type:t}))}var _s=[].concat(Cs(n),Cs(s,"widget"),Cs(a,"renderer"));const Vs="session";var Ss=i("5701"),As=i("bc3a"),Ds=i.n(As);function Bs(e){return 200===e.status?{success:!0,message:"",code:"",data:void 0,extra:{},...e.data}:{success:!1,message:e.data,code:""+e.status,data:void 0,extra:{}}}async function Ws(){return Ds.a.get("/api/session/user")}var Ns=v({moduleName:Vs,actions:r});const Rs=()=>({user:null,authority:{accessible:null,operable:null}}),Es={updateCurrentUser:(e,t)=>e.user=t,updateAuthority:(e,t)=>e.authority=t};function Ts(e){let t={};return Object(Ss["g"])(e)?e.forEach(e=>t[e]=!0):Object.keys(e).forEach(i=>{t={...t,[i]:!0,...Ts(e[i])}}),t}const ks={fetchCurrentUser:async({commit:e},t={})=>{const{success:i=Ss["q"],fail:n=Ss["q"]}=t;Ns.execute("getCurrentUser",t=>{const{permissions:n,...s}=t,a=Ts(n);e("updateCurrentUser",s),e("updateAuthority",{accessible:a,operable:null}),i(a)},n).catch(n)}};var Ls={state:Rs,mutations:Es,actions:ks},Ps={name:Vs,store:Ls};const Is="animation",Ms=m["f"].bind(null,Is);function Hs(){return"You are great!"}var zs={name:Is,fields:[{name:"id",label:"ID",dataType:"string",required:!0},{name:"title",label:"标题",dataType:"string",required:!0,max:30},{name:"form",label:"形式",dataType:"enum",options:[{name:"tva",value:"tva",label:"电视动画"},{name:"ova",value:"ova",label:"原创动画",hint:"与「OAD」是什么关系？"},{name:"mva",value:"mva",label:"剧场动画"}],required:!0},{name:"description",label:"简介",dataType:"text",max:200},{name:"episodes",label:"剧集",dataType:"o2m"}]};async function Gs(e){return Ds.a.get("/api/animations",{params:e})}async function qs(e){return Ds.a.get("/api/animations/"+(Object(Ss["o"])(e)?e:e.id))}async function Us(e){return Ds.a.delete("/api/animations",{params:{ids:e.map(({id:e})=>e).join(",")}})}async function Ks(e){return Ds.a.delete("/api/animations/"+e.id)}async function Js(e){return console.log("insert",e),new Promise(e=>{setTimeout(()=>e({success:!0}),500)})}async function Xs(e){return console.log("update",e),new Promise(e=>{setTimeout(()=>e({success:!0}),500)})}var Qs=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("a",{attrs:{href:"https://otaku-ism.com/animations/"+e.row.id+"/",target:"_blank"}},[e._v(e._s(e.value))])},Ys=[];let Zs=class extends ye{get row(){return this.$$view.getValue()}};Zs=Object(X["b"])([Q["a"]],Zs);var ea=Zs,ta=ea,ia=Object($t["a"])(ta,Qs,Ys,!1,null,null,null),na=ia.exports,sa=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("span",[e._v(e._s(e.count))])},aa=[];let ra=class extends Se{get count(){return(this.value||[]).length}};ra=Object(X["b"])([Q["a"]],ra);var oa=ra,la=oa,ca=Object($t["a"])(la,sa,aa,!1,null,null,null),ua=ca.exports,ha=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("popover",{attrs:{"class-name":"ActionWidget",content:"holyshit",trigger:"click",visible:e.popoverVisible},on:{"visible-change":function(t){e.popoverVisible=t}}},[i("x-button",{attrs:{color:e.resolvedColor}},[e._v(e._s(e.action.text))])],1)},da=[];let ga=class extends pe{constructor(){super(...arguments),this.popoverVisible=!1}get resolvedColor(){return this.action.primary?"primary":"default"}created(){this.$$view.on("change",e=>this.popoverVisible=e.length>1)}};ga=Object(X["b"])([Object(Q["a"])({components:Ms()})],ga);var pa=ga,ma=pa,ba=Object($t["a"])(ma,ha,da,!1,null,null,null),fa=ba.exports,va={name:"AnimationListView",category:"list",renderType:"table",config:{operationColumnWidth:250},fields:[{name:"title",widget:na,config:{width:"300"}},"description",{name:"episodes",label:"集数",widget:ua,config:{width:"60",align:"center"}}],actions:[{name:"create",text:"新增对话框",authority:"animation:edit",config:{view:"animation.views.AnimationBriefFormView"}},{name:"create",text:"新增页面",authority:"animation:edit",config:{outlined:!0}},{name:"deleteList",authority:"animation:edit"},{text:"选择一条以上出现气泡提示",context:"batch",widget:fa},{text:"选择一条及以上",context:"both"},"gotoDetailView",{name:"edit",text:"编辑对话框",config:{view:"animation.views.AnimationBriefFormView"}},{text:"自定义对话框",config:{view:"animation.views.AnimationCustomDialogView"}},{name:"edit",authority:"animation:edit"},{name:"delete",authority:"animation:edit"}],search:{config:{shortcuts:["title","form"],conditionPersists:!0},filters:[{name:"title",placeholder:"快输入标题啊，哈哈哈"},"form","description"]}},$a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"AnimationDetailEpisodesField"},[e.value?i("ol",{staticClass:"AnimationDetailEpisodesField-episodes"},e._l(e.value,(function(t){return i("li",{key:t},[e._v(e._s(t))])})),0):i("span",[e._v("暂无")])])},Oa=[];let ja=class extends Se{};ja=Object(X["b"])([Q["a"]],ja);var wa=ja,ya=wa,xa=(i("2c6d"),Object($t["a"])(ya,$a,Oa,!1,null,"4efaf3a9",null)),Fa=xa.exports,Ca=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("ellipsis",[e._v(e._s(e.value))])},_a=[];let Va=class extends xe{};Va=Object(X["b"])([Object(Q["a"])({components:Ms()})],Va);var Sa=Va,Aa=Sa,Da=Object($t["a"])(Aa,Ca,_a,!1,null,null,null),Ba=Da.exports,Wa={name:"AnimationDetailView",category:"object",renderType:"form",config:{readonly:!0},fields:["title",{name:"description",widget:Ba},"form",{name:"episodes",widget:Fa}]},Na={name:"AnimationFormView",category:"object",renderType:"form",config:{submitActionText:"保存"},fields:[{name:"title",hint:"哈哈"},"description","form","episodes",{name:"ghost",label:"幽灵",hidden:!0}],validate:"submit"};function Ra(e){return{name:"AnimationBriefFormView",category:"object",renderType:"form-dialog",config:{moduleLabel:"动画"},fields:["title","description","form"],opener:e,validate:"submit"}}var Ea=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e._v("自定义对话框视图部件内容")])},Ta=[];let ka=class extends Q["g"]{};ka=Object(X["b"])([Q["a"]],ka);var La=ka,Pa=La,Ia=Object($t["a"])(Pa,Ea,Ta,!1,null,null,null),Ma=Ia.exports;function Ha(e){return{name:"AnimationCustomDialogView",category:"object",renderType:"dialog",config:{title:"自定义对话框",$$child:Ma},actions:["cancel"],opener:e}}var za=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"TestWidget"},[e._v("来自动画模块的部件 "),i("x-button",[e._v("基础组件里的按钮")])],1)},Ga=[];let qa=class extends Q["g"]{};qa=Object(X["b"])([Object(Q["a"])({components:Ms()})],qa);var Ua=qa,Ka=Ua,Ja=(i("9073"),Object($t["a"])(Ka,za,Ga,!1,null,"f5bf3914",null)),Xa=Ja.exports,Qa={name:Is,model:zs,actions:o,views:l,exports:{utils:{test:Hs},widgets:{test:Xa}},components:{XButton:"Button",XDialog:"Dialog",Message:!0,SearchableTree:!0,Wait:!0,Popover:!0,Ellipsis:!0,Empty:!0}};const Ya="comic";var Za={name:Ya,imports:["animation.utils.test","animation.widgets.test"],components:{TestWidget:"animation.widgets.test"}};const er="game";function tr(e,t,i,n){let s;return s=n?{widget:i,...n,category:t}:void 0,Object(m["e"])(e,s)}function ir(e,t){return tr(e,"list","TableViewWidget",t)}function nr(e,t){return()=>ir(e,t)}function sr(e,t){return tr(e,"object","FormViewWidget",{...t,config:{readonly:!0,...(t||{}).config}})}function ar(e,t){return()=>sr(e,t)}async function rr(e){return Ds.a.get("/api/games",{params:e})}var or=v({moduleName:er,actions:c}),lr=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("a",{attrs:{href:"https://otaku-ism.com/games/"+e.row.id+"/",target:"_blank"}},[e._v(e._s(e.value))])},cr=[];let ur=class extends ye{get row(){return this.$$view.getValue()}};ur=Object(X["b"])([Q["a"]],ur);var hr=ur,dr=hr,gr=Object($t["a"])(dr,lr,cr,!1,null,null,null),pr=gr.exports,mr=nr(or,{name:"GameListView",getList:"getList",config:{operationColumnWidth:250},fields:[{name:"title",label:"标题",widget:pr,config:{width:"300"}},{name:"description",label:"简介"}],actions:[{name:"create",authority:"game:edit",primary:!0},{name:"deleteList",authority:"game:edit"},"gotoDetailView",{name:"edit",authority:"game:edit"},{name:"delete",authority:"game:edit"}]}),br=ar(or,{name:"GameDetailView",getOne:"getOneById",fields:[{name:"title",label:"标题"},{name:"description",label:"简介"}]}),fr={name:er,views:u};const vr="novel";var $r={name:vr};const Or="spreadsheet";var jr=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"SpreadsheetForm"},[i("div",{ref:"spreadsheet",staticClass:"SpreadsheetForm-spreadsheet",attrs:{id:"spreadsheetDemo"}}),i("draggable-resizable",{staticClass:"SpreadsheetForm-draggable",attrs:{resizable:!1}},[e._v("holyshiiiiit")])],1)},wr=[],yr=i("fb19"),xr=i.n(yr);const Fr=m["f"].bind(null,Or);var Cr=i("0c84");function _r(e){const t=new Cr["a"]("#spreadsheetDemo",{mode:"read",showToolbar:!1,showBottomBar:!1,contextMenuItems:[{key:"insert-row-above",title:()=>"Insert row above",available:e=>"row-title"===e,handler:e=>{const{range:t}=e.selector;console.log("Insert row above",t),e.insertTo("row",t,1)}},{key:"insert-row-below",title:()=>"Insert row below",available:e=>"row-title"===e,handler:e=>{const{range:t}=e.selector,i={sci:t.sci,sri:t.sri+1};console.log("Insert row below",i),e.insertTo("row",i,1)}},{key:"delete-selected-rows",title:()=>"Delete selected row(s)",available:e=>"row-title"===e,handler:e=>{console.log("Delete selected row(s)",e),e.delete("row")}},{key:"insert-column-left",title:()=>"Insert column left",available:e=>"col-title"===e,handler:e=>{const{range:t}=e.selector;console.log("Insert column left",t),e.insertTo("column",t,1)}},{key:"insert-column-right",title:()=>"Insert column right",available:e=>"col-title"===e,handler:e=>{const{range:t}=e.selector,i={sci:t.sci+1,sri:t.sri};console.log("Insert column right",i),e.insertTo("column",i,1)}},{key:"delete-selected-columns",title:()=>"Delete selected column(s)",available:e=>"col-title"===e,handler:e=>{console.log("Delete selected column(s)",e),e.delete("column")}}],view:{width:()=>e.clientWidth,height:()=>e.clientHeight},row:{len:15,height:25},col:{len:10,width:100,indexWidth:60,minWidth:60}});return t.on("cell-selected",(...e)=>{console.log("cell-selected",...e)}),t}let Vr=class extends De{mounted(){_r(this.spreadsheet)}};Object(X["b"])([Object(Q["f"])()],Vr.prototype,"spreadsheet",void 0),Vr=Object(X["b"])([Object(Q["a"])({components:Fr({DraggableResizable:xr.a})})],Vr);var Sr=Vr,Ar=Sr,Dr=(i("3054"),Object($t["a"])(Ar,jr,wr,!1,null,"7a6da450",null)),Br=Dr.exports,Wr={name:"SpreadsheetFormView",category:"object",widget:Br,fields:[]},Nr={name:Or,views:h},Rr=[Ps,Qa,Za,fr,$r,Nr],Er=i("5c96"),Tr=[Er["Loading"]],kr=[{name:"gotoDetailView",context:"single",text:"查看",execute:(e,{history:t})=>t.push({name:e.getModuleContext().getModuleName()+"Detail",params:{id:e.getFieldValue("id")}})},{name:"deleteList",context:"batch",text:"批量删除",danger:!0,execute:e=>e.deleteList&&e.deleteList(e.getValue(),()=>e.reload())}];function Lr(){Ds.a.interceptors.response.use(e=>Bs(e))}var Pr=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},Ir=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("p",[e._v("孩子，迷路了吧？来让蜀黍"),i("a",{attrs:{href:"/"}},[e._v("送你回家")]),e._v("。")])}];let Mr=class extends Q["g"]{};Mr=Object(X["b"])([Q["a"]],Mr);var Hr=Mr,zr=Hr,Gr=Object($t["a"])(zr,Pr,Ir,!1,null,null,null),qr=Gr.exports,Ur=[{path:"*",component:qr}],Kr=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e._v("Comic list view, "+e._s(e.testUtil())),i("test-widget")],1)},Jr=[],Xr={},Qr=v({moduleName:Ya,actions:Xr});let Yr=class extends Q["g"]{constructor(){super(...arguments),this.testUtil=Qr.getDependencies("animation.utils").test}};Yr=Object(X["b"])([Object(Q["a"])({components:Qr.getComponents()})],Yr);var Zr=Yr,eo=Zr,to=Object($t["a"])(eo,Kr,Jr,!1,null,null,null),io=to.exports,no=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e._v("Comic form view")])},so=[];let ao=class extends Q["g"]{};ao=Object(X["b"])([Q["a"]],ao);var ro=ao,oo=ro,lo=Object($t["a"])(oo,no,so,!1,null,null,null),co=(lo.exports,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e._v("小说列表")])}),uo=[];let ho=class extends Q["g"]{};ho=Object(X["b"])([Q["a"]],ho);var go=ho,po=go,mo=Object($t["a"])(po,co,uo,!1,null,null,null),bo=mo.exports,fo=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("app-container",{staticClass:"AdminLayout"},[i("layout-container",[i("layout-aside",{staticClass:"AdminLayout-sidebar",attrs:{width:"208px"}},[i("router-link",{staticClass:"AdminLayout-brand",attrs:{to:{name:"root"}}},[e._v("Handie for Vue")]),i("ul",{staticClass:"AdminLayout-menu"},e._l(e.subNavs,(function(t){return i("li",{key:t.name,class:{"is-active":t.name===e.currentSubNav}},[i("router-link",{attrs:{to:{name:t.name}}},[e._v(e._s(t.text))])],1)})),0)],1),i("layout-container",[i("layout-header",{attrs:{height:"48px"}},[i("nav",{staticClass:"AdminLayout-mainNav"},[i("ul",{staticClass:"MainNav"},e._l(e.availableNavs,(function(t){return i("li",{key:t.name,staticClass:"MainNav-item",class:{"is-active":t.name===e.currentMainNav}},[i("router-link",{attrs:{to:{name:t.name}}},[e._v(e._s(t.text))])],1)})),0)])]),e.routeAccessible?i("layout-main",{staticClass:"AdminLayout-main"},[e.accessible?i("router-view"):i("div",[e._v("无权访问")])],1):e._e()],1)],1)],1)},vo=[];function $o(e,t){const i=[];return e.forEach(({name:e="",meta:n={},children:s})=>{if("root"===e||!1===n.show||n.auth&&!t[n.auth])return;const a={name:e,text:n.text||"",icon:n.icon};s&&s.length>0&&(a.children=$o(s,t),0===a.children.length)||i.push(a)}),i}function Oo(e,t){return!!t&&e.every(e=>!e.meta.auth||t[e.meta.auth])}let jo=class extends Q["g"]{constructor(){super(...arguments),this.availableNavs=[]}get currentMainNav(){return this.$route.matched[0].name}get currentSubNav(){return this.$route.matched[1].name}get subNavs(){const{matched:e}=this.$route,t=this.availableNavs.find(t=>t.name===e[0].name);return t&&t.children||[]}get routeAccessible(){return this.$store.state.session.authority.accessible}get accessible(){return Oo(this.$route.matched,this.routeAccessible)}created(){this.$store.dispatch("session/fetchCurrentUser",{success:e=>this.availableNavs=$o(this.routes,e)})}};Object(X["b"])([Object(Q["c"])("routes")],jo.prototype,"routes",void 0),jo=Object(X["b"])([Object(Q["a"])({components:{AppContainer:K["a"],LayoutContainer:J["q"],LayoutHeader:J["s"],LayoutMain:J["t"],LayoutAside:J["p"]}})],jo);var wo=jo,yo=wo,xo=(i("71b4"),Object($t["a"])(yo,fo,vo,!1,null,"79fc56ac",null)),Fo=xo.exports,Co=Fo,_o={name:"otaku",path:"/otaku",component:Co,meta:{text:"宅文化",auth:"otaku"},redirect:"/otaku/animations",children:[{name:"animationList",path:"animations",component:"animation.views.AnimationList",meta:{text:"动画",auth:"animation:read"}},{name:"animationCreateForm",path:"animations/new",component:"animation.views.AnimationForm",meta:{text:"新建动画",auth:"animation:edit",show:!1}},{name:"animationDetail",path:"animations/:id",component:"animation.views.AnimationDetail",meta:{text:"动画详情",auth:"animation:read",show:!1}},{name:"animationEditForm",path:"animations/:id/edit",component:"animation.views.AnimationForm",meta:{text:"编辑动画",auth:"animation:edit",show:!1}},{name:"comicList",path:"comics",component:io,meta:{text:"漫画",auth:"comic:read"}},{name:"gameList",path:"games",component:"game.views.GameList",meta:{text:"游戏",auth:"game:read"}},{name:"gameDetail",path:"games/:id",component:"game.views.GameDetail",meta:{text:"游戏详情",auth:"game:read",show:!1}},{name:"novelList",path:"novels",component:bo,meta:{text:"小说",auth:"novel:read"}}]},Vo={name:"spreadsheet",path:"/spreadsheet",component:Co,meta:{text:"电子表格",auth:"spreadsheet"},redirect:"/spreadsheet/new",children:[{name:"spreadsheetNewForm",path:"new",component:"spreadsheet.views.SpreadsheetForm",meta:{text:"新建电子表格",auth:"spreadsheet:edit"}}]},So=[{name:"root",path:"/",redirect:"/otaku"},_o,Vo].concat(Ur),Ao={icon:{providers:{ol:{type:"svg",urls:["//at.alicdn.com/t/font_1788044_0dwu4guekcwr.js"],resolve:e=>"icon-"+e},el:{type:"font",resolve:e=>"el-icon-"+e},ivu:{type:"font"}}},behavior:{common:{action:{showIcon:!0,iconOnly:!0},filter:{showValidationRulesAsNative:!0},field:{showUnavailableOption:!0,showHintAtFormItem:!0,hintPositionOfFormItem:"label",hintIcon:"el:question",showValidationRulesAsNative:!0}},view:{form:{actionBarOutside:!0,actionBarAlignment:"right"}},search:{form:{formControlSize:"small"}},field:{textarea:{showWordLimit:!0}}}};Object(m["R"])(()=>j().$store.state.session.authority.accessible),Lr(),U({plugins:[g["a"],...Tr],creators:{router:e=>new d["a"]({routes:e}),store:e=>new g["a"].Store({modules:e})},components:_s,metadata:{actions:kr,modules:Rr},theme:Ao,el:"#app",routes:So})},"42aa":function(e,t,i){},"71b4":function(e,t,i){"use strict";i("9ada")},7454:function(e,t,i){"use strict";var n=i("ff05"),s=i.n(n);i.d(t,"default",(function(){return s.a}))},"898e":function(e,t,i){e.exports={FormViewWidget:"style_FormViewWidget_3Xyhv","FormViewWidget-form":"style_FormViewWidget-form_MZnO9","FormViewWidget-actionBar":"style_FormViewWidget-actionBar_1VU-m","FormViewWidget--actionBarOutside":"style_FormViewWidget--actionBarOutside_3nGhd","FormViewWidget--actionBarLeft":"style_FormViewWidget--actionBarLeft_3W62s","FormViewWidget--actionBarCenter":"style_FormViewWidget--actionBarCenter_1b9yE","FormViewWidget--actionBarRight":"style_FormViewWidget--actionBarRight_2uD8j","FormViewWidget-formContainer":"style_FormViewWidget-formContainer_26gfv"}},9073:function(e,t,i){"use strict";i("29f3")},"9ada":function(e,t,i){},a19c:function(e,t,i){"use strict";var n=i("898e"),s=i.n(n);i.d(t,"default",(function(){return s.a}))},b1f2:function(e,t,i){e.exports={FormDialogViewWidget:"style_FormDialogViewWidget_3_5Rq"}},bd99:function(e,t,i){"use strict";var n=i("b1f2"),s=i.n(n);i.d(t,"default",(function(){return s.a}))},c3a7:function(e,t,i){"use strict";var n=i("05f2"),s=i.n(n);i.d(t,"default",(function(){return s.a}))},de69:function(e,t,i){},ff05:function(e,t,i){e.exports={DialogViewWidget:"style_DialogViewWidget_1kHbK"}}});
//# sourceMappingURL=app.d1ffae88.js.map